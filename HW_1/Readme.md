# ЛР 1. Dockerfile

Написать два Dockerfile – плохой и хороший. Написать две плохие
практики по использованию контейнеров

 `Dockerfile.bad` плохие практики, `Dockerfile.good` исправляет их. 
## Плохие практики в `Dockerfile.bad` 
- `FROM python:latest` - непредсказуемые версии Python, которые меняютя со временем и сборка будет невоспроизводимой
- `Использование нескольких ненужных RUN` - Каждая команда RUN создаёт новый слой, размер Docker образа сильно увеличивается
- `Использование ADD вместо Copy` - Функциональность ADD не нужна для этого выполнения, COPY - это базовое копирование и рекомендуется использовать его
- `Запуск контейнера от root ` -  контейнер запускается от root пользователя, повышенний риск безопасности

## Исправление этих плохих практик и создание хорошего докерфайла в `Dockerfile.good`
- `FROM python:3.12-slim` - Используем фиксированную, обрезанную версию Python 
- `RUN в одном слое` - теперь RUN объединены по смыслу, также добавлена очистка apt cache.
- `Измение ADD на COPY` - вместо ADD используется COPY, который менее предсказуем и не выполняет доп.действий.
- `Исправление прав пользователя` - Создан отдельный пользователь, контейнер теперь запускается не от root.

## Две плохие практики при использовании контейнера
- Хранение данных внутри контейнера без использования volume, т.к при удалении контейнера данные теряются
- Запуск контейнера без ограничений ресурсов, контейнер может потреблять все ресурсы хоста и вытеснить другие сервисы

## Когда не стоит использовать контейнеры
- Приложения, требующие полного контроля над ОС или ядром, то есть им необходимо собственное ядро ОС
- Когда реализованы простые одноразовые скрипты, имеющие короткий жизненный цикл проекта

